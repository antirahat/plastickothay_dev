{% extends "plastickothay/base.html" %}
{% load static %}
{% block main_content %}
<div class="contribution-container">
    <h1 class="contribution-title">Contribution</h1>
    
    {% if user %}
    <div class="profile-header">
        <div class="profile-info">
            <div class="avatar-container">
                <div class="avatar">
                    <i class="fas fa-user"></i>
                </div>
                <span class="status-dot"></span>
            </div>
            <div class="profile-details">
                <h2 class="profile-name">{{ user.first_name }} {{ user.last_name }}</h2>
                <p class="profile-level">Level {{ current_level }}</p>
            </div>
        </div>
        <button class="settings-btn">
            <i class="fas fa-cog"></i>
        </button>
    </div>
    
    <div class="progress-section">
        <div class="progress-bar-container">
            <div class="progress-bar" style="width: {{ progress_percentage }}%"></div>
        </div>
        <p class="progress-text">{{ points_to_next_level }} points away from level {{ current_level|add:1 }}</p>
    </div>
    
    <div class="action-section">
        <button class="invite-btn">
            <i class="fas fa-user-plus"></i>
            Invite a friend
        </button>
        <div class="share-section">
            <span class="share-label">Share on:</span>
            <div class="social-icons">
                <a href="#" class="social-icon facebook">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="#" class="social-icon instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="#" class="social-icon linkedin">
                    <i class="fab fa-linkedin-in"></i>
                </a>
            </div>
        </div>
    </div>
    
    <div class="badge-section">
        <div class="badge-content">
            <div class="badge-text">
                <h3 class="badge-title">Earn your New Contributor Badge</h3>
                <p class="badge-description">Get started by making simple contribution to your environment</p>
                <ul class="badge-checklist">
                    <li class="checklist-item {% if photos_posted >= badge_requirements.photos %}completed{% endif %}">
                        <i class="fas {% if photos_posted >= badge_requirements.photos %}fa-check-circle{% else %}fa-circle{% endif %}"></i>
                        <span>Post {{ badge_requirements.photos }} photos</span>
                        <span class="progress-count">({{ photos_posted }}/{{ badge_requirements.photos }})</span>
                    </li>
                    <li class="checklist-item {% if reviews_written >= badge_requirements.reviews %}completed{% endif %}">
                        <i class="fas {% if reviews_written >= badge_requirements.reviews %}fa-check-circle{% else %}fa-circle{% endif %}"></i>
                        <span>Write {{ badge_requirements.reviews }} more reviews</span>
                        <span class="progress-count">({{ reviews_written }}/{{ badge_requirements.reviews }})</span>
                    </li>
                    <li class="checklist-item {% if friends_referred >= badge_requirements.referrals %}completed{% endif %}">
                        <i class="fas {% if friends_referred >= badge_requirements.referrals %}fa-check-circle{% else %}fa-circle{% endif %}"></i>
                        <span>Refer {{ badge_requirements.referrals }} more friends</span>
                        <span class="progress-count">({{ friends_referred }}/{{ badge_requirements.referrals }})</span>
                    </li>
                </ul>
            </div>
            <div class="badge-icon">
                <i class="fas fa-award"></i>
            </div>
        </div>
    </div>
    
    <div class="suggestions-section">
        <h3 class="suggestions-title">Keep up the good work</h3>
        <p class="suggestions-text">Need ideas for what to contribute next?</p>
        <a href="#" class="suggestions-link">See suggestions</a>
    </div>
    
    <div class="engagement-section">
        <h3 class="engagement-title">Engagement in your post</h3>
        <div class="engagement-graph">
            <p class="graph-placeholder">Add some engagement graph</p>
        </div>
    </div>
    
    {% else %}
    <div class="login-prompt">
        <p>Please log in to view your contribution.</p>
        <button class="login-btn" onclick="document.querySelector('.profile-btn').click()">Login</button>
    </div>
    {% endif %}
</div>
{% endblock main_content %}
{% block title_content %}Contribution{% endblock title_content %}

